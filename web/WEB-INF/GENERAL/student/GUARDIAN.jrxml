<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.10.0.final using JasperReports Library version 6.10.0-unknown  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="GUARDIAN" pageWidth="650" pageHeight="1220" columnWidth="650" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="7deac7a3-933d-4e26-8da5-799e44bb6683">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="KIAS"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="USER_ID" class="java.lang.String">
		<defaultValueExpression><![CDATA["-1"]]></defaultValueExpression>
	</parameter>
	<parameter name="ABSOLUTE_PATH" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select students.id,level_code, parent_id, users.name, users.id as user_id from students 
 inner join levels on levels.deleted_at is null
 inner join users on users.deleted_at is null and users.actable_id= students.parent_id and users.user_type = "parent"
  inner join users u2 on u2.deleted_at is null and u2.actable_id= students.id and u2.user_type = "student"
  and u2.id =  $P{USER_ID} 
 where students.deleted_at is null]]>
	</queryString>
	<field name="id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="students"/>
	</field>
	<field name="level_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="level_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="levels"/>
	</field>
	<field name="parent_id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="parent_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="students"/>
	</field>
	<field name="name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="users"/>
	</field>
	<field name="user_id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.label" value="user_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="users"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band splitType="Stretch"/>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="100" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="650" height="100" uuid="433f6074-7cce-4640-8384-f563d1ed586c"/>
				<subreportParameter name="USER_ID">
					<subreportParameterExpression><![CDATA[$F{user_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ABSOLUTE_PATH">
					<subreportParameterExpression><![CDATA[$P{ABSOLUTE_PATH}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{ABSOLUTE_PATH}+"//parent/GUARDIAN#ENG.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
